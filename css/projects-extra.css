/* projects-extra.css - updated: larger marquee cards, hover-expand-any-item, modal nav, dark toggle */

/* basic controls styling (search/sort/view) */
#project-search {
  padding: 6px 8px;
  border-radius: 6px;
  border: 1px solid #ddd;
  min-width: 180px;
}
#project-sort { padding: 6px 8px; border-radius: 6px; border: 1px solid #ddd; }
#view-toggle, #shuffle-btn, #theme-toggle { padding: 6px 10px; border-radius: 6px; border: 1px solid #ddd; background: white; cursor: pointer; }

/* fade-in for lazy-loaded images */
.project-card img.lazyfade { opacity: 0; transform: translateY(6px); transition: opacity 420ms ease, transform 420ms ease; }
.project-card img.lazyfade.loaded { opacity: 1; transform: translateY(0); }

/* list view */
.project-list.list-view { display: block; }
.project-list.list-view .project-card { display: flex; gap: 12px; align-items: center; padding: 12px; transition: transform 250ms ease, background 250ms ease; }
.project-list.list-view .project-card img { width: 200px; height: 120px; object-fit: cover; flex-shrink: 0; border-radius: 8px; }

/* grid view (default) */
.project-list.grid-view { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }

/* project-card shuffle animation hint */
.project-card.shuffling { transition: transform 500ms cubic-bezier(.2,.9,.2,1), opacity 350ms ease; transform-origin: center; }

/* copy button */
.copy-btn { background: #f1f1f1; border: 1px solid #ddd; padding: 6px 8px; border-radius: 6px; cursor: pointer; }

/* marquee styles (larger cards) */
.marquee-viewport {
  width: 100%;
  overflow: hidden;
  border-radius: 10px;
  background: linear-gradient(180deg,#fff,#fbfffb);
  padding: 12px 8px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.04);
  margin: 12px 0 18px;
}

/* track: CSS animation will move it left; JS duplicates children and sets duration */
.marquee-track {
  display: flex;
  align-items: center;
  gap: 18px;
  will-change: transform;
  --marquee-duration: 18s;
  animation: marquee-anim var(--marquee-duration) linear infinite;
}
.marquee-track.paused { animation-play-state: paused; }

/* marquee item: bigger width/height */
.marquee-item {
  width: 320px;
  min-width: 320px;
  height: 220px;
  border-radius: 10px;
  background: #fff;
  box-shadow: 0 8px 28px rgba(0,0,0,0.06);
  overflow: visible;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  transform-origin: center center;
  transition: transform 280ms cubic-bezier(.2,.9,.2,1), box-shadow 280ms ease;
  position: relative;
  cursor: pointer;
}
.marquee-item img {
  width: 100%;
  height: 160px;
  object-fit: cover;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  display: block;
}
.mi-title { padding: 8px; font-size: .95rem; font-weight:600; color:#083; }

/* hover-expanded behavior for any hovered item */
.marquee-item.expanded {
  transform: scale(1.14);
  z-index: 40;
  box-shadow: 0 18px 44px rgba(0,0,0,0.14);
}
.marquee-item .mi-extra { display: none; }
.marquee-item.expanded .mi-extra {
  display: block;
  position: absolute;
  left: calc(100% + 12px);
  top: 6px;
  width: 360px;
  background: rgba(255,255,255,0.98);
  border-radius: 8px;
  padding: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.08);
  text-align: left;
}

/* modal */
.marquee-modal { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; background: rgba(0,0,0,0.45); z-index: 200; }
.marquee-modal.visible { display:flex; }
.marquee-modal-content {
  background: white; padding: 16px; border-radius: 10px; max-width: 880px; width: 94%; box-shadow: 0 18px 40px rgba(0,0,0,0.2); max-height: 86vh; overflow:auto; position:relative;
}
.marquee-modal-close { position:absolute; right:12px; top:12px; background:transparent; border:0; font-size:1.1rem; cursor:pointer; }

/* modal nav buttons */
.marquee-modal-nav { position:absolute; top:50%; transform:translateY(-50%); background:rgba(255,255,255,0.95); border:1px solid #ddd; border-radius:6px; padding:6px 10px; cursor:pointer; font-size:1.05rem; }
.marquee-modal-nav.prev { left:10px; }
.marquee-modal-nav.next { right:10px; }

/* marquee animation keyframes */
@keyframes marquee-anim { from { transform: translateX(0); } to { transform: translateX(-50%); } }

/* responsive tweaks */
@media (max-width: 840px) {
  .marquee-item { width: 260px; min-width: 260px; height: 180px; }
  .marquee-item.expanded { transform: scale(1.08); }
  .marquee-item.expanded .mi-extra { left: 6px; top: calc(100% + 8px); width: calc(100% - 12px); }
  .marquee-modal-content { max-width: 94%; padding:12px; }
  .project-list.grid-view { grid-template-columns: 1fr; }
}

/* Light/dark mode tweaks */
body.dark { background:#111; color:#eee; }
body.dark .marquee-item { background:#222; box-shadow: 0 10px 30px rgba(0,0,0,0.6); color:#eee; }
body.dark .marquee-modal-content { background:#1e1e1e; color:#eee; border:1px solid rgba(255,255,255,0.04); }
body.dark .mi-title { color: #9ef6d9; }

/* accessible focus */
.marquee-item:focus { outline: 3px solid rgba(11,115,119,0.18); outline-offset: 4px; }

/* reduced motion */
@media (prefers-reduced-motion: reduce) {
  .marquee-track { animation: none !important; }
  .marquee-item { transition: none !important; }
}
